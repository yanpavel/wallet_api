---
# Wallet API

REST API —Å–µ—Ä–≤–∏—Å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–æ—à–µ–ª—å–∫–∞–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.  
–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –Ω–∞ Go, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è PostgreSQL –≤ –∫–∞—á–µ—Å—Ç–≤–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö.  

–ü—Ä–æ–µ–∫—Ç —Å–¥–µ–ª–∞–Ω –∫–∞–∫ —Ç–µ—Å—Ç–æ–≤–æ–µ –∑–∞–¥–∞–Ω–∏–µ –∏ –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç —Ä–∞–±–æ—Ç—É —Å:
- `chi` –¥–ª—è —Ä–æ—É—Ç–∏–Ω–≥–∞
- `database/sql` + `lib/pq` –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Postgres
- –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –ø–æ —Å–ª–æ—è–º (`cmd/api`, `internal/store`, `internal/db` –∏ —Ç.–¥.)

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Docker + Docker Compose
- Go 1.22+ (–µ—Å–ª–∏ –∑–∞–ø—É—Å–∫–∞—Ç—å –±–µ–∑ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞)

### –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Docker Compose
```bash
docker-compose up --build
```
---

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ —Å—Ç–∞—Ä—Ç–∞:

API –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ http://localhost:8080

PostgreSQL –Ω–∞ localhost:6404 (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å admin, –ø–∞—Ä–æ–ª—å adminpassword, –±–∞–∑–∞ walletdb)

---

–ü—Ä–∏–º–µ—Ä —Å—Ç—Ä–æ–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î
```bash
postgres://admin:adminpassword@localhost:6404/walletdb?sslmode=disable
```

---
üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
```bash
‚îú‚îÄ‚îÄ cmd/api/         # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞, HTTP-—Ö–µ–Ω–¥–ª–µ—Ä—ã
‚îú‚îÄ‚îÄ internal/
‚îÇ   ‚îú‚îÄ‚îÄ db/          # –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îú‚îÄ‚îÄ store/       # –•—Ä–∞–Ω–∏–ª–∏—â–∞ (UsersStore, WalletStore –∏ –¥—Ä.)
‚îÇ   ‚îî‚îÄ‚îÄ validator/   # –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
‚îú‚îÄ‚îÄ migrations/      # SQL-–º–∏–≥—Ä–∞—Ü–∏–∏
‚îî‚îÄ‚îÄ docker-compose.yml
```
application ‚Äî –æ—Å–Ω–æ–≤–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞, –∫–æ—Ç–æ—Ä–∞—è —Ö—Ä–∞–Ω–∏—Ç –∫–æ–Ω—Ñ–∏–≥ –∏ —Å—Ç–æ—Ä—ã.

Stores (UsersStore, WalletStore) ‚Äî —Å–ª–æ–π —Ä–∞–±–æ—Ç—ã —Å –±–∞–∑–æ–π.

Handlers (users.go, wallet.go) ‚Äî –æ–±—Ä–∞–±–æ—Ç–∫–∞ HTTP-–∑–∞–ø—Ä–æ—Å–æ–≤.

---
üîë –û—Å–Ω–æ–≤–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏

POST /register ‚Äî —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è

POST /login ‚Äî –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è

–ö–æ—à–µ–ª—å–∫–∏

GET /wallet/{id} ‚Äî –ø–æ–ª—É—á–∏—Ç—å –∫–æ—à–µ–ª—ë–∫

POST /wallet ‚Äî –æ–ø–µ—Ä–∞—Ü–∏–∏ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è / —Å–ø–∏—Å–∞–Ω–∏—è

operationType:

0 ‚Äî –¥–µ–ø–æ–∑–∏—Ç
1 ‚Äî —Å–Ω—è—Ç–∏–µ —Å—Ä–µ–¥—Å—Ç–≤

---
